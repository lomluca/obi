# OBI Master

## Code Structure
 - `master/autoscaler` code written for the autoscaler feature
 - `master/heartbeat` set of scripts and `protobuf` schemas used to run the
   heartbeat service on clusters master node and to collect them into OBI
   architecture
 - `master/model` definition of generic data structure, which define how each
   cluster should be interfaced
 - `master/persistent` code written to allow OBI to connect to a database for
   persisting its state
 - `master/platforms` implementations of the generic interfaces from
   `master/model`, capable of extending OBI to each possible cloud computing
   service
 - `master/pool` code allowing the handling of multiple cluster along with
   utility functions to allocate them
 - `master/predictor` contains code which is autogenerated to allow
   communication between OBI Master and the predictor component
 - `master/scheduling` contains the logic for the OBI scheduler
 - `master/utils` general utility functions


## Configuration
In the `values.yaml` inside the Helm chart folder there is the `masterConfig` map,
where the administrator have to set infos about the Google Cloud project and
settings about the scheduler. Specifically:
 - `projectId` the project id used in the Google Cloud Platform
 - `region` the region used for Google Cloud Dataproc
 - `zone` the zone used for Google Cloud Dataproc
 - `dataproc-image` the custom image used for Google Cloud Dataproc
 - `heartbeatHost` private IP address of any Kubernetes node, used by master
    nodes of Dataproc cluster to send hearbeat to a NodePort service
 - `schedulingLevels` the levels of the scheduler (from the lowest to the highest one)
    More information in the next section.

## Scheduler overview and configuration

